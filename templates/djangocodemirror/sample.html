{% extends "base.html" %}

{% block head_title %}DjangoCodeMirror sample{% endblock %}
{% block head_more_js %}{{ block.super }} 
    {{ form.media }}
    <script language="JavaScript" type="text/javascript">
    //<![CDATA[
    $(document).ready(function() {
        $("#sample h2:first").after('<p><a class="demo_content_loadlink" href="">Load demo content</a></p>');
        $("#sample a.demo_content_loadlink").click(function () {
            id_content_codemirror_instance.setValue( $("#sample_demo_content").val() );
            id_content_codemirror_instance.clearHistory();
            id_content_codemirror_instance.focus();
            return false;
        });
    });
    //]]>
    </script>
{% endblock %}

{% block content %}
    <div id="sample">
        <h2>DjangoCodeMirror sample</h2>
        <form method="post" action="">{% csrf_token %}
            <div>{{ form.content }}</div>
        </form>
        <div style="display:none;">
            <h2>Sample content</h2>
            <div><textarea name="sample_demo_content" id="sample_demo_content">{{ demo_content }}</textarea></div>
        </div>
    </div>
{% endblock %}
